# Clinical NLP Results Visualization Guide

## ğŸ“Š Overview

This package provides comprehensive visualization and analysis tools for Clinical NLP results generated by the Named Entity Recognition (NER) module.

## ğŸ¯ Features

### 1. **Comprehensive Visualizations**
- Entity type distribution bar charts
- Confidence score histograms and box plots
- Entity proportion pie charts
- Interactive comprehensive dashboards

### 2. **Statistical Analysis**
- Detailed statistical reports
- Entity type breakdowns
- Confidence score analysis
- Extraction method statistics

### 3. **Data Export**
- CSV export for Excel analysis
- Formatted JSON output
- PNG image exports of all visualizations

### 4. **Interactive Viewer**
- Menu-driven interface
- Entity search functionality
- Filter by entity type
- Raw JSON viewer

## ğŸ“ Files

### Core Modules

1. **`visualize_results.py`** - Main visualization module
   - `ClinicalNLPVisualizer` class with all visualization methods
   - Statistical analysis functions
   - Export capabilities

2. **`demo_visualize.py`** - Complete demo script
   - Generates sample clinical NLP results
   - Runs full visualization suite
   - One-click demonstration

3. **`interactive_viewer.py`** - Interactive menu interface
   - Browse results interactively
   - Search and filter entities
   - Generate visualizations on-demand

## ğŸš€ Quick Start

### Option 1: Run Complete Demo

```bash
python demo_visualize.py
```

This will:
1. âœ… Generate sample clinical NLP results
2. ğŸ“Š Display comprehensive summary
3. ğŸ“ˆ Create all visualizations
4. ğŸ’¾ Export data to CSV
5. ğŸ“ Save all charts as PNG files

### Option 2: Visualize Existing Results

```bash
python visualize_results.py
```

Make sure `clinical_nlp_results.json` exists in the current directory.

### Option 3: Interactive Viewer

```bash
python interactive_viewer.py
```

Navigate through results using the menu system.

## ğŸ“‹ Usage Examples

### Load and Display Results

```python
from visualize_results import ClinicalNLPVisualizer

# Initialize visualizer
viz = ClinicalNLPVisualizer('clinical_nlp_results.json')

# Display summary
viz.display_summary()

# Show statistics
viz.generate_statistics_report()
```

### Create Visualizations

```python
# Individual plots
viz.plot_entity_distribution()      # Bar chart
viz.plot_confidence_scores()        # Histogram & box plot
viz.plot_entity_network()           # Pie chart

# Comprehensive dashboard
viz.create_comprehensive_dashboard()
```

### Export Data

```python
# Export to CSV
viz.export_to_csv('my_entities.csv')
```

## ğŸ“Š Generated Outputs

When you run the visualization tools, you'll get:

### ğŸ“ Image Files
- `entity_distribution.png` - Bar chart of entity types
- `confidence_scores.png` - Confidence score analysis
- `entity_pie_chart.png` - Entity proportion pie chart
- `comprehensive_dashboard.png` - Multi-panel dashboard

### ğŸ“„ Data Files
- `clinical_entities.csv` - All entities in spreadsheet format
- `clinical_nlp_results.json` - Complete NLP analysis results

## ğŸ¨ Visualization Types

### 1. Entity Distribution Bar Chart
Shows the count of each entity type extracted from the text.

**Use case:** Understand which types of medical information are most prevalent

### 2. Confidence Score Analysis
- Histogram showing distribution of confidence scores
- Box plot comparing confidence across entity types

**Use case:** Assess the reliability of extracted entities

### 3. Entity Pie Chart
Displays the proportion of each entity type.

**Use case:** Quick visual overview of entity composition

### 4. Comprehensive Dashboard
Multi-panel view including:
- Entity type distribution
- Confidence scores
- Entity proportions
- Extraction methods
- Top 10 most common entities

**Use case:** Complete analytical overview in one view

## ğŸ” Interactive Viewer Menu

```
1. ğŸ“‹ Display Summary          - View detailed text summary
2. ğŸ“Š Show Statistics Report   - Statistical analysis
3. ğŸ“ˆ Plot Entity Distribution - Bar chart
4. ğŸ“‰ Plot Confidence Scores   - Histogram/box plot
5. ğŸ¥§ Plot Entity Pie Chart    - Pie chart
6. ğŸ¨ Create Dashboard         - Comprehensive view
7. ğŸ’¾ Export to CSV            - Export data
8. ğŸ” Search Entities          - Search & filter
9. ğŸ“„ View Raw JSON            - View raw data
0. ğŸšª Exit                     - Quit program
```

## ğŸ“Š Statistical Metrics

The visualization tools provide:

- **Total Entities** - Count of all extracted entities
- **Unique Entity Types** - Number of different entity categories
- **Confidence Statistics** - Mean, median, std dev, min, max
- **Entity Type Breakdown** - Count and percentage for each type
- **Extraction Method** - Distribution of rule-based vs model-based

## ğŸ¯ Example Output

```
ğŸ“ˆ STATISTICAL ANALYSIS REPORT
================================================================================

ğŸ“Š Total Entities: 42
ğŸ“Š Unique Entity Types: 7

ğŸ“ˆ Confidence Statistics:
  â€¢ Mean: 0.8214
  â€¢ Median: 0.8500
  â€¢ Std Dev: 0.1142
  â€¢ Min: 0.7000
  â€¢ Max: 0.9500

ğŸ·ï¸  Entity Type Breakdown:
  â€¢ SYMPTOM: 12 (28.6%)
  â€¢ ANATOMY: 8 (19.0%)
  â€¢ TREATMENT: 7 (16.7%)
  â€¢ DIAGNOSIS: 5 (11.9%)
  â€¢ DURATION: 4 (9.5%)
  â€¢ PROCEDURE: 4 (9.5%)
  â€¢ PROGNOSIS: 2 (4.8%)
```

## ğŸ› ï¸ Requirements

```bash
pip install matplotlib seaborn pandas numpy
```

All required packages are already listed in the main `requirements.txt`.

## ğŸ’¡ Tips

1. **For Large Datasets**: Use the interactive viewer to avoid generating all visualizations at once

2. **Custom Analysis**: Import `ClinicalNLPVisualizer` into your own scripts for custom analysis

3. **Excel Integration**: Export to CSV and open in Excel for pivot tables and custom charts

4. **Batch Processing**: Process multiple result files by creating a loop:

```python
for result_file in ['result1.json', 'result2.json']:
    viz = ClinicalNLPVisualizer(result_file)
    viz.create_comprehensive_dashboard()
```

## âš ï¸ Clinical Disclaimer

**This is a demonstration system and should NOT be used for actual medical decisions.**
**Always consult qualified healthcare professionals for medical advice.**

## ğŸ“ Support

For issues or questions:
1. Check that `clinical_nlp_results.json` exists
2. Ensure all dependencies are installed
3. Verify JSON format is valid

## ğŸ“ Example Workflow

### Complete Analysis Pipeline

```bash
# Step 1: Generate NLP results (if not already done)
python ner_module.py

# Step 2: Run complete visualization demo
python demo_visualize.py

# Step 3: Explore interactively
python interactive_viewer.py
```

This will give you:
- âœ… Comprehensive analysis
- âœ… All visualizations
- âœ… Statistical reports
- âœ… Exported data files
- âœ… Interactive exploration

---

**Happy Analyzing! ğŸ“ŠğŸ”¬**
